{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///home/akshay/Code/Full%20stack/Finance/frontend/src/auth.config.ts"],"sourcesContent":["import GoogleProvider from \"next-auth/providers/google\";\nimport type { NextAuthOptions } from \"next-auth\";\nimport { debug } from \"console\";\n\nexport const authConfig: NextAuthOptions = {\n  providers: [\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID!,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n    }),\n  ],\n  pages: {\n    signIn: \"/auth/signin\",\n    signOut: \"/auth/signout\",\n    // error: \"/auth/error\",     // ðŸ‘ˆ optional\n  },\n  secret: process.env.NEXTAUTH_SECRET,\n  callbacks: {\n    async jwt({ token, user }) {\n      //when user logs in for the first time \n      console.log(\"JWT callback\", token, user);\n      if (user) {\n        token.userId = user.id; // add id to the JWT\n        token.email = user.email;\n        token.name = user.name;\n      }\n      return token;\n    },\n    async session({ session, token }: any) {\n      // add id to the session object for NEXT.js usage\n      console.log(\"Session callback\", session, token);\n      if (session.user) {\n        session.userId = token.userId;\n        session.user.email = token.email;\n        session.user.name = token.name;\n      }\n      return session;\n    },\n  \n\n    //    async redirect() {\n    //   return `/dashboard`;\n    // }\n\n  },\n  debug:true,\n  \n  // session: {\n  //   strategy: \"jwt\"\n  // },\n}\n\n"],"names":[],"mappings":";;;AAAA;;AAIO,MAAM,aAA8B;IACzC,WAAW;QACT,CAAA,GAAA,mJAAA,CAAA,UAAc,AAAD,EAAE;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;QAChD;KACD;IACD,OAAO;QACL,QAAQ;QACR,SAAS;IAEX;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;IACnC,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,uCAAuC;YACvC,QAAQ,GAAG,CAAC,gBAAgB,OAAO;YACnC,IAAI,MAAM;gBACR,MAAM,MAAM,GAAG,KAAK,EAAE,EAAE,oBAAoB;gBAC5C,MAAM,KAAK,GAAG,KAAK,KAAK;gBACxB,MAAM,IAAI,GAAG,KAAK,IAAI;YACxB;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAO;YACnC,iDAAiD;YACjD,QAAQ,GAAG,CAAC,oBAAoB,SAAS;YACzC,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,MAAM,GAAG,MAAM,MAAM;gBAC7B,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;gBAChC,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;YAChC;YACA,OAAO;QACT;IAOF;IACA,OAAM;AAKR","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///home/akshay/Code/Full%20stack/Finance/frontend/src/auth.ts"],"sourcesContent":["import { getServerSession } from \"next-auth\";\nimport { authConfig } from \"@/auth.config\";\n\nexport const auth = () => getServerSession(authConfig);\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,OAAO,IAAM,CAAA,GAAA,qIAAA,CAAA,mBAAgB,AAAD,EAAE,qHAAA,CAAA,aAAU","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///home/akshay/Code/Full%20stack/Finance/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\nimport { auth } from \"@/auth\"\nimport { redirect } from \"next/navigation\"\nimport React, { useState } from \"react\";\n\n// onchange function\nimport { Bounce, toast, ToastContainer } from \"react-toastify\";\n\nimport { Expense } from \"@/types/userTypes\";\n\nexport default async function Dashboard() {\n\n  // auth logic\n\n  const session = await auth();\n\n  if (!session) redirect(\"/login\");\n\n  await fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/api/expenses`, {\n    headers: {\n      Authorization: `Bearer ${session?.user?.id}`\n    }\n  })\n    await fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/api/auth/me`, {\n    headers: {\n      Authorization: `Bearer ${session?.user?.id}`, // this must be the actual JWT token (fix NextAuth if needed)\n    }\n  });\n\n\n  const [expenses, setExpenses] = useState({\n    \"name\": \"\",\n    \"category\": \"\",\n    \"amount\": 0,\n    \"date\": \"\",\n  }\n  );\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setExpenses((prevExpenses: Expense) => ({\n      ...prevExpenses,\n      [name]: name === \"amount\" ? Number(value) : value,\n    }));\n  };\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const response = await fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/api/expenses`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(expenses),\n    });\n\n    if (response.ok) {\n      notify();\n      setExpenses({ name: \"\", category: \"\", amount: 0, date: \"\" });\n    }\n  };\n\n  //toast\n  const notify = () => {\n    toast(\"Expense added successfully\",\n      {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: false,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\",\n        transition: Bounce,\n      }\n    );\n  }\n\n\n\n  return <>\n    <ToastContainer\n      position=\"bottom-right\"\n      autoClose={4000}\n      hideProgressBar={false}\n      newestOnTop={true}\n      closeOnClick={true}\n      rtl={false}\n      pauseOnFocusLoss\n      draggable\n      pauseOnHover\n      theme=\"colored\"\n      transition={Bounce}\n    />\n    {/* <div> Welcome , {session.user?.name}</div>\n    <div>\n      <Image\n        src={session.user?.image || '/default-profile.png'}\n        alt=\"Profile Picture\"\n        className=\"h-10 w-10 rounded-full\"\n      />\n      <span>Welcome, {session.user?.name}</span> \n    </div> */}\n    <div className=\"flex justify-center items-center min-h-screen bg-slate-100\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-white shadow-lg rounded-xl p-8 w-full max-w-md space-y-5\"\n      >\n        <h2 className=\"text-2xl font-bold text-gray-700 text-center\">Add Expense</h2>\n\n        <div>\n          <label className=\"block mb-1 text-gray-600 font-medium\">Name</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={expenses.name}\n            onChange={handleChange} required\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\n            placeholder=\"Enter expense name\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block mb-1 text-gray-600 font-medium\">Category</label>\n          <input\n            type=\"text\"\n            name=\"category\" required\n            value={expenses.category}\n            onChange={handleChange}\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\n            placeholder=\"e.g. Food, Travel\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block mb-1 text-gray-600 font-medium\">Amount</label>\n          <input\n            type=\"number\"\n            name=\"amount\" required\n            value={expenses.amount}\n            onChange={handleChange}\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\n            placeholder=\"Enter amount\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block mb-1 text-gray-600 font-medium\">Date</label>\n          <input\n            type=\"date\"\n            name=\"date\" required\n            value={expenses.date}\n            onChange={handleChange}\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200\"\n        >\n          Submit\n        </button>\n\n      </form>\n    </div>\n\n\n  </>;\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}